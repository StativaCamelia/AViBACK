<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <h1>Documentation</h1>
    <ol>
      <li><a href="#general_documentation">I. General Documentation</a></li>
      <li><a href="#user_guide">II. User Guide</a></li>
    </ol>
    <h2 id="general_documentation">I. General Documentation</h2>
    <ol>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#app_progress">Application Progress</a></li>
      <li><a href="#app_architecture">Application Architecture</a></li>
      <li><a href="#ui_ux">UI and UX</a></li>
    </ol>
    <h2 id="user_guide">II. User Guide</h2>
    <ol>
      <li><a href="#api_auth">API Authentication and Authorization</a></li>
      <li><a href="#api_accidents">API Accidents</a></li>
    </ol>
    <h3>I.1. Introduction</h3>
    <article id="introduction">
      <section>
        <p>
          US Accidents Smart Visualizer(AVi) is a web application for flexible
          visualization of US accident data, based on our REST API. The system
          provides support for multi-criteria search for reported incidents,
          creating chart statistics in 3 manners - pie chart, bar chart and line
          chart - and a cartographic rendering. These statistics can be exported
          in CSV, PNG and SVG formats.
        </p>
        <p>
          The application also provides an authentication system, as well as a
          module for managing the entire system. A user subscribes to the
          newsletter based on the chosen criterion, thus receiving emails about
          his topic of interest. An admin can monitor and modify the databases
          of the two services exposed through the administration module.
        </p>
      </section>
    </article>
    <h3>I.2. Application Progress</h3>
    <article id="app_progress">
      <section>
        <ol>
          <li><a href="#app_progress_1">First steps</a></li>
          <li><a href="#app_progress_2">Getting faster better stronger</a></li>
        </ol>
        <section id="app_progress_1">
          <p>1. First steps</p>
          <p>
            In the first weeks we outlined the design of the user interface,
            sketching the structure of the pages, and then we started working on
            the application.
          </p>
          <p>
            The first elements created were the menu and the general layout of
            the application, then we went to details, on each page.
          </p>
          <!--            imaginile de la inceput-->
          <p>
            Along the way we added new elements to improve the visual experience
            of the user as well as elements that lead to the interaction with
            the services created later.
          </p>
          <p>Technologies</p>
          <p>
            The technologies used are HTML, CSS and JavaScript, these being the
            basis of the presented interface. HTML was used in order to mark and
            structure the content of the pages, CSS has the role of stylizing
            this content and JavaScript gives dynamism to the pages.
          </p>
          <p>
            For the representation of the statistics we used the libraries D3.js
            (for pie chart) and Chart.js (for bar chart and line chart). D3.js
            is a JavaScript library for producing dynamic, interactive data
            visualizations in web browsers. It makes use of SVG, HTML5 and CSS
            standards. Chart.js is a free open-source JavaScript library for
            data visualization. It's tooltip and legends features are useful to
            add the extra details on charts. Works very well on modern browsers
            and charts are cross browser and cross platform compatible.
          </p>
        </section>
        <section id="app_progress_2">
          <p>2. Getting faster better stronger</p>
          <p>
            After we finished the frontend part of the project, we started
            thinking about the implementation of the functionalities and how we
            will integrate them in the backend part of the application.
          </p>
          <p>Technologies</p>
          <p>
            Initially we established the technologies we will use. On the
            frontend side we migrated to Pug technology instead of HTML and on
            the backend side we chose Node.JS as the technology because we were
            easily familiar with JavaScript because we used it in the scripts on
            the frontend. For data storage, we chose to use MongoDB because it's
            a document database, which means it stores data in JSON-like
            documents.
          </p>
          <p>
            Pug is a template engine for Node and for the browser. It compiles
            to HTML and has a simplified syntax, which can make you more
            productive and your code more readable. Pug makes it easy both to
            write reusable HTML, as well as to render data pulled from a
            database or API.
          </p>
          <p>
            Node.js is an open-source, cross-platform, JavaScript runtime
            environment that executes JavaScript code outside a web browser.
            Node.js lets developers use JavaScript to write command line tools
            and for server-side scripting.
          </p>
          <p>
            MongoDB is a rich and expressive query language that allows you to
            filter and sort by any field, no matter how nested it may be within
            a document. Supports arrays and nested objects as values and allows
            for flexible and dynamic schemas.
          </p>
          <p>
            The next step was to establish the application architecture.
            initially we developed a single project based on the MVC
            architecture, later translating the whole into 3 separate projects -
            the application interface, the authentication-authorization service
            and the accident service - where the services have REST
            architecture.
          </p>
        </section>
      </section>
    </article>
    <h3>I.3. Application Architecture</h3>
    <article id="app_architecture">
      <section>
        <ol>
          <li>
            <a href="#about_architecture">About Application Architecture</a>
          </li>
          <li><a href="#c4_model">C4 Model Diagram</a></li>
        </ol>
        <section id="about_architecture">
          <p>1. About Application Architecture</p>
          <p>
            As we mentioned, the project includes two REST services and the
            entire system interface.
          </p>
          <p>
            Regarding the interface, we designed a simple, flexible and easy to
            use structure, in order to facilitate the user experience on the web
            site. The logic underlying the architecture consists in: the user
            interacts with the interface, the interface exposes the
            representation of the data and the offered functionalities (view),
            his requests are sent both to the internal routing to navigate
            between the web pages of the application (router and controller) and
            to the two exposed services - for registration, authentication and
            authorization the authentication-authorization service is called and
            for the representation of the charts the accident service is called.
          </p>
          <p>
            Regarding our services, they are RESTful Web services that allow the
            requesting systems to access and manipulate textual representations
            of Web resources by using a uniform and predefined set of stateless
            operations. Requests made to URIs of exposed resources will elicit a
            response with a payload formatted in JSON. Using HTTP, the
            operations (HTTP methods) available are GET, POST, PUT and DELETE
            (and OPTIONS for preflight request in CORS).
          </p>
          <p>
            Both services present the following logic: the received requests are
            routed, according to the resource to be called (router), after
            routing, the corresponding controller will try to answer the request
            by querying the database through the model; the model will respond
            to the controller and it will send the final response to the client.
          </p>
          <p>
            The authentication-authorization service exposes the functionality
            of registering a new account within the application as well as the
            authentication functionality with an already created account. In
            addition, the service authorizes the admin (requests from an admin)
            giving him access to direct manipulation of the database - in the
            case of this service is exposed the users collection, a collection
            that stores registered users.
          </p>
          <p>
            The accident service responds to requests for information about
            accidents stored in the database (accidents registered in the USA
            during 2016-2019). Through this service, the secondary collections
            are created that help to display the filters (states, counties,
            cities, streets), and after the authorization (calling the
            authentication-authorization service) an admin will be able to
            produce changes and take information from the database - in the case
            of this service, the accident collection is exposed.
          </p>
        </section>
        <section id="c4_model">
          <p>2. C4 Model Diagram</p>
          <p>
            To present the overall architecture, we will use the C4 Model
            diagram which provides four different levels of abstraction, each of
            which is relevant to a different audience.
          </p>
        </section>
      </section>
    </article>
    <h3 id="ui_ux">I.4. UI and UX</h3>

    <h3 id="api_auth">II.1. API Authentication and Authorization</h3>
    <h3 id="api_accidents">II.2. API Accidents</h3>
  </body>
</html>
